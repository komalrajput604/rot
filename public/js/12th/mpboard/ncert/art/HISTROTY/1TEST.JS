const questions = [ 

        {
          "num": 1,
          "question_en": "Who was the founder of the Maurya Empire?",
          "question_hi": "मौर्य साम्राज्य का संस्थापक कौन था?",
          "options_en": ["Chandragupta Maurya", "Ashoka", "Bindusara", "Harshavardhana"],
          "options_hi": ["चंद्रगुप्त मौर्य", "अशोक", "बिंदुसार", "हर्षवर्धन"],
          "answer": "Chandragupta Maurya",
          "answer_hi": "चंद्रगुप्त मौर्य",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 2,
          "question_en": "The 'Harappan Civilization' is also known as:",
          "question_hi": "'हड़प्पा सभ्यता' को और किस नाम से जाना जाता है?",
          "options_en": ["Indus Valley Civilization", "Vedic Civilization", "Mesopotamian Civilization", "Egyptian Civilization"],
          "options_hi": ["सिंधु घाटी सभ्यता", "वैदिक सभ्यता", "मेसोपोटामिया सभ्यता", "मिस्र की सभ्यता"],
          "answer": "Indus Valley Civilization",
          "answer_hi": "सिंधु घाटी सभ्यता",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 3,
          "question_en": "Who wrote the book 'Arthashastra'?",
          "question_hi": "'अर्थशास्त्र' पुस्तक किसने लिखी?",
          "options_en": ["Kautilya", "Kalidasa", "Banabhatta", "Tulsidas"],
          "options_hi": ["कौटिल्य", "कालिदास", "बाणभट्ट", "तुलसीदास"],
          "answer": "Kautilya",
          "answer_hi": "कौटिल्य",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 4,
          "question_en": "The Battle of Plassey was fought in which year?",
          "question_hi": "प्लासी का युद्ध किस वर्ष लड़ा गया था?",
          "options_en": ["1757", "1764", "1857", "1805"],
          "options_hi": ["1757", "1764", "1857", "1805"],
          "answer": "1757",
          "answer_hi": "1757",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 5,
          "question_en": "Who was the last Governor-General of free India?",
          "question_hi": "स्वतंत्र भारत के अंतिम गवर्नर जनरल कौन थे?",
          "options_en": ["C. Rajagopalachari", "Lord Mountbatten", "Jawaharlal Nehru", "Sardar Patel"],
          "options_hi": ["सी. राजगोपालाचारी", "लॉर्ड माउंटबेटन", "जवाहरलाल नेहरू", "सरदार पटेल"],
          "answer": "C. Rajagopalachari",
          "answer_hi": "सी. राजगोपालाचारी",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 6,
          "question_en": "In which year did the Revolt of 1857 take place?",
          "question_hi": "1857 की क्रांति किस वर्ष हुई थी?",
          "options_en": ["1857", "1848", "1875", "1820"],
          "options_hi": ["1857", "1848", "1875", "1820"],
          "answer": "1857",
          "answer_hi": "1857",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 7,
          "question_en": "Who started the 'Permanent Settlement' in Bengal?",
          "question_hi": "बंगाल में 'स्थायी बंदोबस्त' किसने शुरू किया था?",
          "options_en": ["Lord Cornwallis", "Warren Hastings", "Lord Wellesley", "Robert Clive"],
          "options_hi": ["लॉर्ड कॉर्नवालिस", "वॉरेन हेस्टिंग्स", "लॉर्ड वेलेजली", "रॉबर्ट क्लाइव"],
          "answer": "Lord Cornwallis",
          "answer_hi": "लॉर्ड कॉर्नवालिस",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 8,
          "question_en": "Who was the first President of the Indian National Congress?",
          "question_hi": "भारतीय राष्ट्रीय कांग्रेस के पहले अध्यक्ष कौन थे?",
          "options_en": ["W.C. Banerjee", "Mahatma Gandhi", "Jawaharlal Nehru", "Dadabhai Naoroji"],
          "options_hi": ["डब्ल्यू. सी. बनर्जी", "महात्मा गांधी", "जवाहरलाल नेहरू", "दादाभाई नौरोजी"],
          "answer": "W.C. Banerjee",
          "answer_hi": "डब्ल्यू. सी. बनर्जी",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 9,
          "question_en": "Where did Mahatma Gandhi first use Satyagraha in India?",
          "question_hi": "महात्मा गांधी ने भारत में सबसे पहले सत्याग्रह कहाँ किया?",
          "options_en": ["Champaran", "Ahmedabad", "Kheda", "Dandi"],
          "options_hi": ["चंपारण", "अहमदाबाद", "खेड़ा", "दांडी"],
          "answer": "Champaran",
          "answer_hi": "चंपारण",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 10,
          "question_en": "Which Viceroy announced the partition of Bengal in 1905?",
          "question_hi": "1905 में बंगाल का विभाजन किस वायसराय ने किया था?",
          "options_en": ["Lord Curzon", "Lord Ripon", "Lord Canning", "Lord Minto"],
          "options_hi": ["लॉर्ड कर्जन", "लॉर्ड रिपन", "लॉर्ड कैनिंग", "लॉर्ड मिंटो"],
          "answer": "Lord Curzon",
          "answer_hi": "लॉर्ड कर्जन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 11,
          "question_en": "When was the Quit India Movement launched?",
          "question_hi": "भारत छोड़ो आंदोलन कब शुरू हुआ था?",
          "options_en": ["1942", "1947", "1930", "1919"],
          "options_hi": ["1942", "1947", "1930", "1919"],
          "answer": "1942",
          "answer_hi": "1942",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 12,
          "question_en": "Who founded the Mughal Empire in India?",
          "question_hi": "भारत में मुग़ल साम्राज्य की स्थापना किसने की?",
          "options_en": ["Babur", "Akbar", "Humayun", "Shah Jahan"],
          "options_hi": ["बाबर", "अकबर", "हुमायूं", "शाहजहाँ"],
          "answer": "Babur",
          "answer_hi": "बाबर",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 13,
          "question_en": "The Treaty of Bassein was signed between the British and?",
          "question_hi": "बेसिन की संधि ब्रिटिश और किसके बीच हुई थी?",
          "options_en": ["Baji Rao II", "Tipu Sultan", "Ranjit Singh", "Nana Saheb"],
          "options_hi": ["बाजी राव द्वितीय", "टीपू सुल्तान", "रंजीत सिंह", "नाना साहेब"],
          "answer": "Baji Rao II",
          "answer_hi": "बाजी राव द्वितीय",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 14,
          "question_en": "Which movement was started after the Jallianwala Bagh massacre?",
          "question_hi": "जलियांवाला बाग हत्याकांड के बाद कौन सा आंदोलन शुरू हुआ?",
          "options_en": ["Non-Cooperation Movement", "Civil Disobedience", "Quit India Movement", "Swadeshi Movement"],
          "options_hi": ["असहयोग आंदोलन", "सविनय अवज्ञा", "भारत छोड़ो आंदोलन", "स्वदेशी आंदोलन"],
          "answer": "Non-Cooperation Movement",
          "answer_hi": "असहयोग आंदोलन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 15,
          "question_en": "Which leader gave the slogan 'Do or Die'?",
          "question_hi": "'करो या मरो' का नारा किसने दिया?",
          "options_en": ["Mahatma Gandhi", "Subhash Chandra Bose", "Bhagat Singh", "Jawaharlal Nehru"],
          "options_hi": ["महात्मा गांधी", "सुभाष चंद्र बोस", "भगत सिंह", "जवाहरलाल नेहरू"],
          "answer": "Mahatma Gandhi",
          "answer_hi": "महात्मा गांधी",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 16,
          "question_en": "Who was the founder of the Slave Dynasty?",
          "question_hi": "गुलाम वंश का संस्थापक कौन था?",
          "options_en": ["Qutb-ud-din Aibak", "Iltutmish", "Balban", "Alauddin Khilji"],
          "options_hi": ["कुतुबुद्दीन ऐबक", "इल्तुतमिश", "बलबन", "अलाउद्दीन खिलजी"],
          "answer": "Qutb-ud-din Aibak",
          "answer_hi": "कुतुबुद्दीन ऐबक",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 17,
          "question_en": "In which year did India become a Republic?",
          "question_hi": "भारत किस वर्ष गणराज्य बना?",
          "options_en": ["1950", "1947", "1952", "1949"],
          "options_hi": ["1950", "1947", "1952", "1949"],
          "answer": "1950",
          "answer_hi": "1950",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 18,
          "question_en": "Who was the first woman ruler of India?",
          "question_hi": "भारत की पहली महिला शासक कौन थीं?",
          "options_en": ["Razia Sultana", "Jhansi Rani", "Indira Gandhi", "Nur Jahan"],
          "options_hi": ["रज़िया सुल्ताना", "झांसी की रानी", "इंदिरा गांधी", "नूरजहां"],
          "answer": "Razia Sultana",
          "answer_hi": "रज़िया सुल्ताना",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 19,
          "question_en": "Where was the capital of Ashoka’s empire?",
          "question_hi": "अशोक के साम्राज्य की राजधानी कहाँ थी?",
          "options_en": ["Pataliputra", "Taxila", "Ujjain", "Kalinga"],
          "options_hi": ["पाटलिपुत्र", "तक्षशिला", "उज्जैन", "कलिंग"],
          "answer": "Pataliputra",
          "answer_hi": "पाटलिपुत्र",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 20,
          "question_en": "Who was the founder of the Gupta Dynasty?",
          "question_hi": "गुप्त वंश का संस्थापक कौन था?",
          "options_en": ["Sri Gupta", "Samudragupta", "Chandragupta I", "Skandagupta"],
          "options_hi": ["श्री गुप्त", "समुद्रगुप्त", "चंद्रगुप्त प्रथम", "स्कंदगुप्त"],
          "answer": "Sri Gupta",
          "answer_hi": "श्री गुप्त",
          "attempted": false,
          "selected": ""
        }

      

];




let currentQuestion = 0;
let language = "en"; // Default English
let timeLeft = 180 * 60; // 180 minutes in seconds
let timerInterval;

function loadQuestion(index) {
const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

const optionsElement = document.getElementById("options");
optionsElement.innerHTML = "";

optionsArray.forEach(option => {
optionsElement.innerHTML += `
<li>
    <input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}
</li>
`;
});

updateNavigation();
}

function markAttempted(index, selectedAnswer) {
questions[index].attempted = true;
questions[index].selected = selectedAnswer;
updateNavigation();
}

function nextQuestion() {
if (currentQuestion < questions.length - 1) {
currentQuestion++;
loadQuestion(currentQuestion);
}
}

function prevQuestion() {
if (currentQuestion > 0) {
currentQuestion--;
loadQuestion(currentQuestion);
}
}

function changeLanguage() {
language = document.getElementById("languageSelect").value;
loadQuestion(currentQuestion);
}

function submitQuiz() {
let confirmation = confirm("Are you sure you want to submit the test?");
if (!confirmation) return;

clearInterval(timerInterval);

let attempted = 0, notAttempted = 0, score = 0;
const results = [];

questions.forEach(q => {
if (q.attempted) {
attempted++;
if (q.selected === q.answer || q.selected === q.answer_hi) {
    score++;
}
} else {
notAttempted++;
}
results.push({
question: q.question_en,
selected: q.selected || "Not Answered",
correct: q.answer
});
});

localStorage.setItem("attempted", attempted);
localStorage.setItem("notAttempted", notAttempted);
localStorage.setItem("score", score);
localStorage.setItem("results", JSON.stringify(results));

let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
if (viewResult) {
window.location.href = "/Deshbord/category/test/submit-test.html";
}
}

function startTimer() {
const timerElement = document.getElementById("timer");

timerInterval = setInterval(() => {
if (timeLeft <= 0) {
clearInterval(timerInterval);
alert("Time's up! Submitting the quiz automatically.");
submitQuiz();
} else {
const hours = Math.floor(timeLeft / 3600);
const minutes = Math.floor((timeLeft % 3600) / 60);
const seconds = timeLeft % 60;

timerElement.textContent = `Time Left: ${hours.toString().padStart(2, '0')}:${minutes
    .toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
timeLeft--;
}
}, 1000);
}

function updateNavigation() {
const navElement = document.getElementById("circleContainer");
navElement.innerHTML = "";

questions.forEach((q, index) => {
let color = "gray";
if (q.attempted) color = "green";
if (q.selected === "") color = "gray";
if (index === currentQuestion) color = "blue";

navElement.innerHTML += `
<div class='circle' style='background-color: ${color};' onclick='loadQuestion(${index})'>
    ${index + 1}
</div>`;
});
}

window.onload = function () {
loadQuestion(currentQuestion);
startTimer();
};


