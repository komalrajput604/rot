const questions = [ 
    
   
    
        {
          "num": 1,
          "question_en": "Which gas is used in the Haber process for the manufacture of ammonia?",
          "question_hi": "हैबर प्रक्रिया में अमोनिया के निर्माण के लिए किस गैस का उपयोग किया जाता है?",
          "options_en": ["Hydrogen", "Oxygen", "Chlorine", "Carbon dioxide"],
          "options_hi": ["हाइड्रोजन", "ऑक्सीजन", "क्लोरीन", "कार्बन डाइऑक्साइड"],
          "answer": "Hydrogen",
          "answer_hi": "हाइड्रोजन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 2,
          "question_en": "Which compound gives iodoform test?",
          "question_hi": "कौन सा यौगिक आयोडोफॉर्म परीक्षण देता है?",
          "options_en": ["Ethanol", "Methanol", "Formaldehyde", "Acetic acid"],
          "options_hi": ["एथेनॉल", "मेथनॉल", "फॉर्मल्डिहाइड", "एसेटिक अम्ल"],
          "answer": "Ethanol",
          "answer_hi": "एथेनॉल",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 3,
          "question_en": "Which element is used as a moderator in nuclear reactors?",
          "question_hi": "नाभिकीय रिएक्टरों में नियंत्रक के रूप में किस तत्व का उपयोग किया जाता है?",
          "options_en": ["Boron", "Cadmium", "Graphite", "Uranium"],
          "options_hi": ["बोरॉन", "कैडमियम", "ग्रेफाइट", "यूरेनियम"],
          "answer": "Graphite",
          "answer_hi": "ग्रेफाइट",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 4,
          "question_en": "Which of the following has peptide bond?",
          "question_hi": "निम्नलिखित में से किसमें पेप्टाइड बंध होता है?",
          "options_en": ["Proteins", "Fats", "Carbohydrates", "Vitamins"],
          "options_hi": ["प्रोटीन", "वसा", "कार्बोहाइड्रेट", "विटामिन"],
          "answer": "Proteins",
          "answer_hi": "प्रोटीन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 5,
          "question_en": "The bleaching action of chlorine is due to?",
          "question_hi": "क्लोरीन की ब्लीचिंग क्रिया किसके कारण होती है?",
          "options_en": ["Oxidation", "Reduction", "Hydrolysis", "Absorption"],
          "options_hi": ["ऑक्सीकरण", "अपचयन", "जलअपघटन", "अवशोषण"],
          "answer": "Oxidation",
          "answer_hi": "ऑक्सीकरण",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 6,
          "question_en": "Which compound is called 'oil of wintergreen'?",
          "question_hi": "'ऑयल ऑफ विंटरग्रीन' किस यौगिक को कहा जाता है?",
          "options_en": ["Methyl salicylate", "Benzaldehyde", "Phenol", "Acetone"],
          "options_hi": ["मेथिल सैलिसिलेट", "बेंज़ाल्डिहाइड", "फिनोल", "एसीटोन"],
          "answer": "Methyl salicylate",
          "answer_hi": "मेथिल सैलिसिलेट",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 7,
          "question_en": "Which of the following is an artificial sweetener?",
          "question_hi": "निम्नलिखित में से कौन कृत्रिम मिठास है?",
          "options_en": ["Sucrose", "Aspartame", "Glucose", "Fructose"],
          "options_hi": ["सुक्रोज़", "एस्पार्टेम", "ग्लूकोज़", "फ्रक्टोज़"],
          "answer": "Aspartame",
          "answer_hi": "एस्पार्टेम",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 8,
          "question_en": "Which vitamin is synthesized from cholesterol?",
          "question_hi": "कौन सा विटामिन कोलेस्ट्रॉल से संश्लेषित होता है?",
          "options_en": ["Vitamin A", "Vitamin D", "Vitamin C", "Vitamin K"],
          "options_hi": ["विटामिन A", "विटामिन D", "विटामिन C", "विटामिन K"],
          "answer": "Vitamin D",
          "answer_hi": "विटामिन D",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 9,
          "question_en": "Which reagent is used in the test of aldehydes?",
          "question_hi": "एल्डिहाइड की जांच में किस अभिकर्मक का उपयोग होता है?",
          "options_en": ["Tollens' reagent", "Lucas reagent", "Benedict's reagent", "Fehling’s reagent"],
          "options_hi": ["टोलेंस अभिकर्मक", "लुकास अभिकर्मक", "बेनेडिक्ट अभिकर्मक", "फेहलिंग अभिकर्मक"],
          "answer": "Tollens' reagent",
          "answer_hi": "टोलेंस अभिकर्मक",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 10,
          "question_en": "Which chemical is used to remove hardness of water?",
          "question_hi": "जल की कठोरता को दूर करने के लिए किस रसायन का उपयोग किया जाता है?",
          "options_en": ["Sodium carbonate", "Sodium chloride", "Potassium nitrate", "Calcium sulphate"],
          "options_hi": ["सोडियम कार्बोनेट", "सोडियम क्लोराइड", "पोटेशियम नाइट्रेट", "कैल्शियम सल्फेट"],
          "answer": "Sodium carbonate",
          "answer_hi": "सोडियम कार्बोनेट",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 11,
          "question_en": "Which of the following is a biodegradable polymer?",
          "question_hi": "निम्नलिखित में से कौन एक बायोडिग्रेडेबल पॉलिमर है?",
          "options_en": ["PHBV", "PVC", "Bakelite", "Nylon"],
          "options_hi": ["PHBV", "पीवीसी", "बेकलाइट", "नायलॉन"],
          "answer": "PHBV",
          "answer_hi": "PHBV",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 12,
          "question_en": "Which acid is present in vinegar?",
          "question_hi": "सिरके में कौन सा अम्ल पाया जाता है?",
          "options_en": ["Formic acid", "Acetic acid", "Citric acid", "Oxalic acid"],
          "options_hi": ["फॉर्मिक अम्ल", "एसेटिक अम्ल", "साइट्रिक अम्ल", "ऑक्सैलिक अम्ल"],
          "answer": "Acetic acid",
          "answer_hi": "एसेटिक अम्ल",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 13,
          "question_en": "Which substance is added to petrol to prevent knocking?",
          "question_hi": "नॉकिंग को रोकने के लिए पेट्रोल में कौन सा पदार्थ मिलाया जाता है?",
          "options_en": ["Tetraethyl lead", "Methanol", "Benzene", "Acetone"],
          "options_hi": ["टेट्राएथिल लेड", "मेथनॉल", "बेंजीन", "एसीटोन"],
          "answer": "Tetraethyl lead",
          "answer_hi": "टेट्राएथिल लेड",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 14,
          "question_en": "Which of the following is not a halogen?",
          "question_hi": "निम्नलिखित में से कौन सा हैलोजन नहीं है?",
          "options_en": ["Chlorine", "Iodine", "Sulfur", "Fluorine"],
          "options_hi": ["क्लोरीन", "आयोडीन", "सल्फर", "फ्लोरीन"],
          "answer": "Sulfur",
          "answer_hi": "सल्फर",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 15,
          "question_en": "Which compound is formed when glucose is oxidized?",
          "question_hi": "ग्लूकोज़ के ऑक्सीकरण पर कौन सा यौगिक बनता है?",
          "options_en": ["Gluconic acid", "Acetic acid", "Citric acid", "Oxalic acid"],
          "options_hi": ["ग्लूकोनिक अम्ल", "एसेटिक अम्ल", "साइट्रिक अम्ल", "ऑक्सैलिक अम्ल"],
          "answer": "Gluconic acid",
          "answer_hi": "ग्लूकोनिक अम्ल",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 16,
          "question_en": "Which alloy contains copper and zinc?",
          "question_hi": "कॉपर और जिंक से बना मिश्रधातु कौन सा है?",
          "options_en": ["Bronze", "Brass", "Steel", "German silver"],
          "options_hi": ["कांस्य", "पीतल", "इस्पात", "जर्मन सिल्वर"],
          "answer": "Brass",
          "answer_hi": "पीतल",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 17,
          "question_en": "Which of the following has maximum electron affinity?",
          "question_hi": "निम्नलिखित में से किसमें अधिकतम इलेक्ट्रॉन स्नेह होता है?",
          "options_en": ["Fluorine", "Chlorine", "Oxygen", "Nitrogen"],
          "options_hi": ["फ्लोरीन", "क्लोरीन", "ऑक्सीजन", "नाइट्रोजन"],
          "answer": "Chlorine",
          "answer_hi": "क्लोरीन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 18,
          "question_en": "Which element is used in the photoelectric cell?",
          "question_hi": "फोटोइलेक्ट्रिक सेल में किस तत्व का उपयोग होता है?",
          "options_en": ["Sodium", "Calcium", "Potassium", "Barium"],
          "options_hi": ["सोडियम", "कैल्शियम", "पोटेशियम", "बेरियम"],
          "answer": "Sodium",
          "answer_hi": "सोडियम",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 19,
          "question_en": "Which of the following is used in fireworks to produce red color?",
          "question_hi": "लाल रंग देने के लिए आतिशबाज़ी में कौन सा तत्व प्रयोग होता है?",
          "options_en": ["Strontium", "Barium", "Magnesium", "Sodium"],
          "options_hi": ["स्ट्रोंशियम", "बेरियम", "मैग्नीशियम", "सोडियम"],
          "answer": "Strontium",
          "answer_hi": "स्ट्रोंशियम",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 20,
          "question_en": "Which of the following is an example of a thermosetting plastic?",
          "question_hi": "निम्नलिखित में से कौन थर्मोसेटिंग प्लास्टिक का उदाहरण है?",
          "options_en": ["Bakelite", "Polythene", "PVC", "Teflon"],
          "options_hi": ["बेकलाइट", "पॉलीथीन", "पीवीसी", "टेफ्लॉन"],
          "answer": "Bakelite",
          "answer_hi": "बेकलाइट",
          "attempted": false,
          "selected": ""
        }
      
      
  ];
  
  
  
  let currentQuestion = 0;
  let language = "en"; // Default English
  let timeLeft = 180 * 60; // 180 minutes in seconds
  let timerInterval;
  
  function loadQuestion(index) {
    const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
    const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;
  
    document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
    document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;
  
    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";
  
    optionsArray.forEach(option => {
        optionsElement.innerHTML += `
            <li>
                <input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}
            </li>
        `;
    });
  
    updateNavigation();
  }
  
  function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
  }
  
  function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
  }
  
  function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
  }
  
  function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
  }
  
  function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;
  
    clearInterval(timerInterval);
  
    let attempted = 0, notAttempted = 0, score = 0;
    const results = [];
  
    questions.forEach(q => {
        if (q.attempted) {
            attempted++;
            if (q.selected === q.answer || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }
        results.push({
            question: q.question_en,
            selected: q.selected || "Not Answered",
            correct: q.answer
        });
    });
  
    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));
  
    let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
    if (viewResult) {
        window.location.href = "/Deshbord/category/test/submit-test.html";
    }
  }
  
  function startTimer() {
    const timerElement = document.getElementById("timer");
  
    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up! Submitting the quiz automatically.");
            submitQuiz();
        } else {
            const hours = Math.floor(timeLeft / 3600);
            const minutes = Math.floor((timeLeft % 3600) / 60);
            const seconds = timeLeft % 60;
  
            timerElement.textContent = `Time Left: ${hours.toString().padStart(2, '0')}:${minutes
                .toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            timeLeft--;
        }
    }, 1000);
  }
  
  function updateNavigation() {
    const navElement = document.getElementById("circleContainer");
    navElement.innerHTML = "";
  
    questions.forEach((q, index) => {
        let color = "gray";
        if (q.attempted) color = "green";
        if (q.selected === "") color = "gray";
        if (index === currentQuestion) color = "blue";
  
        navElement.innerHTML += `
            <div class='circle' style='background-color: ${color};' onclick='loadQuestion(${index})'>
                ${index + 1}
            </div>`;
    });
  }
  
  window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
  };
  
  
  