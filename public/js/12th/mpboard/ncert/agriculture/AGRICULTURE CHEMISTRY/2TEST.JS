const questions = [ {
          "num": 1,
          "question_en": "Which nutrient is essential for the synthesis of chlorophyll?",
          "question_hi": "क्लोरोफिल संश्लेषण के लिए कौन सा पोषक तत्व आवश्यक है?",
          "options_en": ["Nitrogen", "Phosphorus", "Potassium", "Calcium"],
          "options_hi": ["नाइट्रोजन", "फॉस्फोरस", "पोटेशियम", "कैल्शियम"],
          "answer": "Nitrogen",
          "answer_hi": "नाइट्रोजन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 2,
          "question_en": "Which acid is present in the soil that helps in the availability of phosphorus?",
          "question_hi": "मृदा में कौन सा अम्ल फॉस्फोरस की उपलब्धता में सहायक होता है?",
          "options_en": ["Citric acid", "Sulfuric acid", "Acetic acid", "Hydrochloric acid"],
          "options_hi": ["साइट्रिक अम्ल", "सल्फ्यूरिक अम्ल", "एसिटिक अम्ल", "हाइड्रोक्लोरिक अम्ल"],
          "answer": "Citric acid",
          "answer_hi": "साइट्रिक अम्ल",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 3,
          "question_en": "Which fertilizer is known as a quick-acting nitrogenous fertilizer?",
          "question_hi": "त्वरित क्रिया करने वाले नाइट्रोजन उर्वरक के रूप में कौन जाना जाता है?",
          "options_en": ["Urea", "Ammonium sulfate", "Calcium ammonium nitrate", "Ammonium chloride"],
          "options_hi": ["यूरिया", "अमोनियम सल्फेट", "कैल्शियम अमोनियम नाइट्रेट", "अमोनियम क्लोराइड"],
          "answer": "Urea",
          "answer_hi": "यूरिया",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 4,
          "question_en": "Which micronutrient deficiency causes 'Khaira disease' in rice?",
          "question_hi": "धान में 'खैरा रोग' किस सूक्ष्म पोषक तत्व की कमी से होता है?",
          "options_en": ["Zinc", "Iron", "Copper", "Manganese"],
          "options_hi": ["जिंक", "लौह", "तांबा", "मैंगनीज"],
          "answer": "Zinc",
          "answer_hi": "जिंक",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 5,
          "question_en": "Which element is considered immobile in plants?",
          "question_hi": "पौधों में कौन सा तत्व अचल माना जाता है?",
          "options_en": ["Calcium", "Nitrogen", "Magnesium", "Phosphorus"],
          "options_hi": ["कैल्शियम", "नाइट्रोजन", "मैग्नीशियम", "फॉस्फोरस"],
          "answer": "Calcium",
          "answer_hi": "कैल्शियम",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 6,
          "question_en": "The pH value of neutral soil is?",
          "question_hi": "तटस्थ मृदा का pH मान कितना होता है?",
          "options_en": ["7", "5", "9", "4"],
          "options_hi": ["7", "5", "9", "4"],
          "answer": "7",
          "answer_hi": "7",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 7,
          "question_en": "Which fertilizer contains the highest percentage of nitrogen?",
          "question_hi": "कौन सा उर्वरक सर्वाधिक प्रतिशत में नाइट्रोजन युक्त होता है?",
          "options_en": ["Urea", "DAP", "Ammonium sulfate", "CAN"],
          "options_hi": ["यूरिया", "डीएपी", "अमोनियम सल्फेट", "सीएएन"],
          "answer": "Urea",
          "answer_hi": "यूरिया",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 8,
          "question_en": "Which nutrient helps in the synthesis of proteins?",
          "question_hi": "कौन सा पोषक तत्व प्रोटीन संश्लेषण में सहायक होता है?",
          "options_en": ["Nitrogen", "Potassium", "Calcium", "Zinc"],
          "options_hi": ["नाइट्रोजन", "पोटेशियम", "कैल्शियम", "जिंक"],
          "answer": "Nitrogen",
          "answer_hi": "नाइट्रोजन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 9,
          "question_en": "Which fertilizer is used as a basal dose in paddy fields?",
          "question_hi": "धान के खेतों में कौन सा उर्वरक आधारभूत मात्रा के रूप में प्रयोग किया जाता है?",
          "options_en": ["DAP", "Urea", "Ammonium chloride", "Potash"],
          "options_hi": ["डीएपी", "यूरिया", "अमोनियम क्लोराइड", "पोटाश"],
          "answer": "DAP",
          "answer_hi": "डीएपी",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 10,
          "question_en": "Which gas is released from urea hydrolysis in soil?",
          "question_hi": "मृदा में यूरिया हाइड्रोलिसिस से कौन सी गैस निकलती है?",
          "options_en": ["Ammonia", "Carbon dioxide", "Methane", "Oxygen"],
          "options_hi": ["अमोनिया", "कार्बन डाइऑक्साइड", "मीथेन", "ऑक्सीजन"],
          "answer": "Ammonia",
          "answer_hi": "अमोनिया",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 11,
          "question_en": "Which nutrient promotes root development?",
          "question_hi": "कौन सा पोषक तत्व जड़ विकास को बढ़ावा देता है?",
          "options_en": ["Phosphorus", "Nitrogen", "Potassium", "Sulfur"],
          "options_hi": ["फॉस्फोरस", "नाइट्रोजन", "पोटेशियम", "सल्फर"],
          "answer": "Phosphorus",
          "answer_hi": "फॉस्फोरस",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 12,
          "question_en": "The chemical formula of Urea is?",
          "question_hi": "यूरिया का रासायनिक सूत्र क्या है?",
          "options_en": ["CO(NH2)2", "NH4NO3", "NH4Cl", "Ca(NO3)2"],
          "options_hi": ["CO(NH2)2", "NH4NO3", "NH4Cl", "Ca(NO3)2"],
          "answer": "CO(NH2)2",
          "answer_hi": "CO(NH2)2",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 13,
          "question_en": "Which nutrient deficiency leads to 'yellowing of leaves'?",
          "question_hi": "'पत्तियों का पीला पड़ना' किस पोषक तत्व की कमी से होता है?",
          "options_en": ["Nitrogen", "Phosphorus", "Potassium", "Calcium"],
          "options_hi": ["नाइट्रोजन", "फॉस्फोरस", "पोटेशियम", "कैल्शियम"],
          "answer": "Nitrogen",
          "answer_hi": "नाइट्रोजन",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 14,
          "question_en": "Soil fertility is reduced due to continuous use of which fertilizer?",
          "question_hi": "किस उर्वरक के निरंतर प्रयोग से मृदा उर्वरता घटती है?",
          "options_en": ["Chemical fertilizers", "Organic manure", "Green manure", "Compost"],
          "options_hi": ["रासायनिक उर्वरक", "जैविक खाद", "हरी खाद", "कम्पोस्ट"],
          "answer": "Chemical fertilizers",
          "answer_hi": "रासायनिक उर्वरक",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 15,
          "question_en": "Which of the following is an organic manure?",
          "question_hi": "निम्न में से कौन जैविक खाद है?",
          "options_en": ["Farmyard manure", "Urea", "DAP", "Super phosphate"],
          "options_hi": ["खेत की गोबर खाद", "यूरिया", "डीएपी", "सुपर फॉस्फेट"],
          "answer": "Farmyard manure",
          "answer_hi": "खेत की गोबर खाद",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 16,
          "question_en": "Which component is present in potash fertilizers?",
          "question_hi": "पोटाश उर्वरकों में कौन सा घटक होता है?",
          "options_en": ["Potassium", "Phosphorus", "Nitrogen", "Sulfur"],
          "options_hi": ["पोटेशियम", "फॉस्फोरस", "नाइट्रोजन", "सल्फर"],
          "answer": "Potassium",
          "answer_hi": "पोटेशियम",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 17,
          "question_en": "Which micronutrient is needed for pollen formation?",
          "question_hi": "पराग निर्माण के लिए कौन सा सूक्ष्म पोषक तत्व आवश्यक है?",
          "options_en": ["Boron", "Iron", "Copper", "Zinc"],
          "options_hi": ["बोरान", "लौह", "तांबा", "जिंक"],
          "answer": "Boron",
          "answer_hi": "बोरान",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 18,
          "question_en": "Which fertilizer is used in acidic soils?",
          "question_hi": "अम्लीय मृदा में कौन सा उर्वरक उपयोगी होता है?",
          "options_en": ["Lime", "Urea", "Ammonium sulfate", "Potash"],
          "options_hi": ["चूना", "यूरिया", "अमोनियम सल्फेट", "पोटाश"],
          "answer": "Lime",
          "answer_hi": "चूना",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 19,
          "question_en": "Which nutrient is responsible for disease resistance in plants?",
          "question_hi": "पौधों में रोग प्रतिरोधक क्षमता किस पोषक तत्व से बढ़ती है?",
          "options_en": ["Potassium", "Nitrogen", "Phosphorus", "Iron"],
          "options_hi": ["पोटेशियम", "नाइट्रोजन", "फॉस्फोरस", "लौह"],
          "answer": "Potassium",
          "answer_hi": "पोटेशियम",
          "attempted": false,
          "selected": ""
        },
        {
          "num": 20,
          "question_en": "Which form of nitrogen is easily leached from soil?",
          "question_hi": "मृदा से आसानी से बह जाने वाला नाइट्रोजन का रूप कौन सा है?",
          "options_en": ["Nitrate", "Ammonia", "Urea", "Protein"],
          "options_hi": ["नाइट्रेट", "अमोनिया", "यूरिया", "प्रोटीन"],
          "answer": "Nitrate",
          "answer_hi": "नाइट्रेट",
          "attempted": false,
          "selected": ""
        }
      
      
  
  ];
  
  
  
  
  let currentQuestion = 0;
  let language = "en"; // Default English
  let timeLeft = 180 * 60; // 180 minutes in seconds
  let timerInterval;
  
  function loadQuestion(index) {
  const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
  const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;
  
  document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
  document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;
  
  const optionsElement = document.getElementById("options");
  optionsElement.innerHTML = "";
  
  optionsArray.forEach(option => {
  optionsElement.innerHTML += `
  <li>
  <input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}
  </li>
  `;
  });
  
  updateNavigation();
  }
  
  function markAttempted(index, selectedAnswer) {
  questions[index].attempted = true;
  questions[index].selected = selectedAnswer;
  updateNavigation();
  }
  
  function nextQuestion() {
  if (currentQuestion < questions.length - 1) {
  currentQuestion++;
  loadQuestion(currentQuestion);
  }
  }
  
  function prevQuestion() {
  if (currentQuestion > 0) {
  currentQuestion--;
  loadQuestion(currentQuestion);
  }
  }
  
  function changeLanguage() {
  language = document.getElementById("languageSelect").value;
  loadQuestion(currentQuestion);
  }
  
  function submitQuiz() {
  let confirmation = confirm("Are you sure you want to submit the test?");
  if (!confirmation) return;
  
  clearInterval(timerInterval);
  
  let attempted = 0, notAttempted = 0, score = 0;
  const results = [];
  
  questions.forEach(q => {
  if (q.attempted) {
  attempted++;
  if (q.selected === q.answer || q.selected === q.answer_hi) {
  score++;
  }
  } else {
  notAttempted++;
  }
  results.push({
  question: q.question_en,
  selected: q.selected || "Not Answered",
  correct: q.answer
  });
  });
  
  localStorage.setItem("attempted", attempted);
  localStorage.setItem("notAttempted", notAttempted);
  localStorage.setItem("score", score);
  localStorage.setItem("results", JSON.stringify(results));
  
  let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
  if (viewResult) {
  window.location.href = "/Deshbord/category/test/submit-test.html";
  }
  }
  
  function startTimer() {
  const timerElement = document.getElementById("timer");
  
  timerInterval = setInterval(() => {
  if (timeLeft <= 0) {
  clearInterval(timerInterval);
  alert("Time's up! Submitting the quiz automatically.");
  submitQuiz();
  } else {
  const hours = Math.floor(timeLeft / 3600);
  const minutes = Math.floor((timeLeft % 3600) / 60);
  const seconds = timeLeft % 60;
  
  timerElement.textContent = `Time Left: ${hours.toString().padStart(2, '0')}:${minutes
  .toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
  timeLeft--;
  }
  }, 1000);
  }
  
  function updateNavigation() {
  const navElement = document.getElementById("circleContainer");
  navElement.innerHTML = "";
  
  questions.forEach((q, index) => {
  let color = "gray";
  if (q.attempted) color = "green";
  if (q.selected === "") color = "gray";
  if (index === currentQuestion) color = "blue";
  
  navElement.innerHTML += `
  <div class='circle' style='background-color: ${color};' onclick='loadQuestion(${index})'>
  ${index + 1}
  </div>`;
  });
  }
  
  window.onload = function () {
  loadQuestion(currentQuestion);
  startTimer();
  };
  
  
  