const questions = [ 


    
    {
      "num": 1,
      "question_en": "Who is the author of the lesson 'The Last Lesson'?",
      "question_hi": "'The Last Lesson' पाठ के लेखक कौन हैं?",
      "options_en": ["Alphonse Daudet", "Louis Fischer", "Katherine Mansfield", "Indira Gandhi"],
      "options_hi": ["अल्फोंस डौडे", "लुई फिशर", "कैथरीन मैंसफील्ड", "इंदिरा गांधी"],
      "answer": "Alphonse Daudet",
      "answer_hi": "अल्फोंस डौडे",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 2,
      "question_en": "What was Franz expected to be prepared with for school that day?",
      "question_hi": "उस दिन फ्रांज को स्कूल में किस विषय की तैयारी करनी थी?",
      "options_en": ["Participles", "History", "Writing", "Reading"],
      "options_hi": ["कृदंत", "इतिहास", "लेखन", "पठन"],
      "answer": "Participles",
      "answer_hi": "कृदंत",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 3,
      "question_en": "In the lesson 'Lost Spring', what is the profession of Saheb?",
      "question_hi": "'Lost Spring' पाठ में साहेब का पेशा क्या है?",
      "options_en": ["Ragpicker", "Vendor", "Mason", "Teacher"],
      "options_hi": ["कबाड़ी", "विक्रेता", "राजमिस्त्री", "शिक्षक"],
      "answer": "Ragpicker",
      "answer_hi": "कबाड़ी",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 4,
      "question_en": "Who wrote 'Deep Water'?",
      "question_hi": "'Deep Water' किसने लिखा है?",
      "options_en": ["Douglas Malloch", "William Douglas", "Stephen Spender", "John Keats"],
      "options_hi": ["डगलस मैलॉक", "विलियम डगलस", "स्टीफन स्पेंडर", "जॉन कीट्स"],
      "answer": "William Douglas",
      "answer_hi": "विलियम डगलस",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 5,
      "question_en": "What does the poem 'My Mother at Sixty-Six' reflect?",
      "question_hi": "'My Mother at Sixty-Six' कविता किस भावना को दर्शाती है?",
      "options_en": ["Joy of childhood", "Fear of losing mother", "Love of nature", "Beauty of life"],
      "options_hi": ["बचपन की खुशी", "माँ को खोने का भय", "प्रकृति का प्रेम", "जीवन की सुंदरता"],
      "answer": "Fear of losing mother",
      "answer_hi": "माँ को खोने का भय",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 6,
      "question_en": "What is the theme of the poem 'Keeping Quiet'?",
      "question_hi": "'Keeping Quiet' कविता का विषय क्या है?",
      "options_en": ["Global unity and peace", "Poverty", "Political freedom", "Nature's beauty"],
      "options_hi": ["वैश्विक एकता और शांति", "गरीबी", "राजनीतिक स्वतंत्रता", "प्रकृति की सुंदरता"],
      "answer": "Global unity and peace",
      "answer_hi": "वैश्विक एकता और शांति",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 7,
      "question_en": "What is the setting of the story 'The Rattrap'?",
      "question_hi": "'The Rattrap' कहानी की पृष्ठभूमि क्या है?",
      "options_en": ["Swedish countryside", "Indian village", "American town", "British colony"],
      "options_hi": ["स्वीडन का ग्रामीण क्षेत्र", "भारतीय गांव", "अमेरिकी शहर", "ब्रिटिश उपनिवेश"],
      "answer": "Swedish countryside",
      "answer_hi": "स्वीडन का ग्रामीण क्षेत्र",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 8,
      "question_en": "What was the name of the blacksmith in 'The Rattrap'?",
      "question_hi": "'The Rattrap' में लोहार का नाम क्या था?",
      "options_en": ["Ramji", "Roger", "Ramu", "No name mentioned"],
      "options_hi": ["रामजी", "रॉजर", "रामू", "कोई नाम नहीं बताया गया"],
      "answer": "No name mentioned",
      "answer_hi": "कोई नाम नहीं बताया गया",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 9,
      "question_en": "Who was the girl in 'The Rattrap'?",
      "question_hi": "'The Rattrap' में लड़की कौन थी?",
      "options_en": ["The ironmaster’s daughter", "A teacher", "A servant", "A merchant's daughter"],
      "options_hi": ["लोहे के कारखाने वाले की बेटी", "एक शिक्षिका", "एक नौकरानी", "एक व्यापारी की बेटी"],
      "answer": "The ironmaster’s daughter",
      "answer_hi": "लोहे के कारखाने वाले की बेटी",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 10,
      "question_en": "What is the poetic device used in 'An Elementary School Classroom in a Slum'?",
      "question_hi": "'An Elementary School Classroom in a Slum' कविता में कौन सा अलंकार है?",
      "options_en": ["Simile", "Metaphor", "Alliteration", "All of the above"],
      "options_hi": ["उपमा", "रूपक", "अनुप्रास", "उपरोक्त सभी"],
      "answer": "All of the above",
      "answer_hi": "उपरोक्त सभी",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 11,
      "question_en": "What does the word 'rattrap' symbolize in the story?",
      "question_hi": "'Rattrap' शब्द कहानी में किसका प्रतीक है?",
      "options_en": ["Kindness", "Greed and temptation", "Freedom", "Happiness"],
      "options_hi": ["दयालुता", "लोभ और प्रलोभन", "स्वतंत्रता", "खुशी"],
      "answer": "Greed and temptation",
      "answer_hi": "लोभ और प्रलोभन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 12,
      "question_en": "In 'Indigo', what did Gandhi insist on for the peasants?",
      "question_hi": "'Indigo' में गांधी ने किसानों के लिए किस पर जोर दिया?",
      "options_en": ["Legal aid", "Social equality", "Refund of money", "Political rights"],
      "options_hi": ["कानूनी सहायता", "सामाजिक समानता", "धन की वापसी", "राजनीतिक अधिकार"],
      "answer": "Refund of money",
      "answer_hi": "धन की वापसी",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 13,
      "question_en": "Who is the author of 'Going Places'?",
      "question_hi": "'Going Places' के लेखक कौन हैं?",
      "options_en": ["A.R. Barton", "Zadie Smith", "Kamala Das", "Coates Kinney"],
      "options_hi": ["ए.आर. बार्टन", "जैडी स्मिथ", "कमला दास", "कोट्स किन्नी"],
      "answer": "A.R. Barton",
      "answer_hi": "ए.आर. बार्टन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 14,
      "question_en": "What is the dream of Sophie in 'Going Places'?",
      "question_hi": "'Going Places' में सोफी का सपना क्या है?",
      "options_en": ["To become an actress", "To become a manager", "To become a fashion designer", "To own a boutique"],
      "options_hi": ["एक अभिनेत्री बनने का", "प्रबंधक बनने का", "फैशन डिजाइनर बनने का", "एक बुटीक खोलने का"],
      "answer": "To become a fashion designer",
      "answer_hi": "फैशन डिजाइनर बनने का",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 15,
      "question_en": "Who was Geoff in 'Going Places'?",
      "question_hi": "'Going Places' में ज्यॉफ कौन था?",
      "options_en": ["Sophie's father", "Sophie's brother", "Sophie's friend", "Sophie's neighbor"],
      "options_hi": ["सोफी का पिता", "सोफी का भाई", "सोफी की सहेली", "सोफी का पड़ोसी"],
      "answer": "Sophie's brother",
      "answer_hi": "सोफी का भाई",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 16,
      "question_en": "In the poem 'Aunt Jennifer’s Tigers', what do the tigers symbolize?",
      "question_hi": "'Aunt Jennifer’s Tigers' कविता में बाघ किसका प्रतीक हैं?",
      "options_en": ["Strength and freedom", "Fear and oppression", "Silence", "Death"],
      "options_hi": ["शक्ति और स्वतंत्रता", "भय और उत्पीड़न", "चुप्पी", "मृत्यु"],
      "answer": "Strength and freedom",
      "answer_hi": "शक्ति और स्वतंत्रता",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 17,
      "question_en": "What problem did Dr. Sadao face in 'The Enemy'?",
      "question_hi": "'The Enemy' में डॉ. सदाओ को किस समस्या का सामना करना पड़ा?",
      "options_en": ["Whether to help the enemy or not", "Lack of medicine", "Being jobless", "His own illness"],
      "options_hi": ["दुश्मन की मदद करें या नहीं", "दवा की कमी", "बेरोजगारी", "स्वयं की बीमारी"],
      "answer": "Whether to help the enemy or not",
      "answer_hi": "दुश्मन की मदद करें या नहीं",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 18,
      "question_en": "Who is the poet of 'A Thing of Beauty'?",
      "question_hi": "'A Thing of Beauty' के कवि कौन हैं?",
      "options_en": ["John Keats", "Robert Frost", "Stephen Spender", "Pablo Neruda"],
      "options_hi": ["जॉन कीट्स", "रॉबर्ट फ्रॉस्ट", "स्टीफन स्पेंडर", "पाब्लो नेरूदा"],
      "answer": "John Keats",
      "answer_hi": "जॉन कीट्स",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 19,
      "question_en": "What does 'beauty' do according to John Keats?",
      "question_hi": "जॉन कीट्स के अनुसार 'सौंदर्य' क्या करता है?",
      "options_en": ["Gives joy forever", "Gives sorrow", "Creates problems", "Ends life"],
      "options_hi": ["हमेशा आनंद देता है", "दुख देता है", "समस्याएं उत्पन्न करता है", "जीवन समाप्त करता है"],
      "answer": "Gives joy forever",
      "answer_hi": "हमेशा आनंद देता है",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 20,
      "question_en": "In 'Poets and Pancakes', which studio is described?",
      "question_hi": "'Poets and Pancakes' में किस स्टूडियो का वर्णन किया गया है?",
      "options_en": ["Gemini Studios", "Bollywood Studios", "Pinewood Studios", "Hollywood Studios"],
      "options_hi": ["जेमिनी स्टूडियो", "बॉलीवुड स्टूडियो", "पाइनवुड स्टूडियो", "हॉलीवुड स्टूडियो"],
      "answer": "Gemini Studios",
      "answer_hi": "जेमिनी स्टूडियो",
      "attempted": false,
      "selected": ""
    }
  
  
];




let currentQuestion = 0;
let language = "en"; // Default English
let timeLeft = 180 * 60; // 180 minutes in seconds
let timerInterval;

function loadQuestion(index) {
const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

const optionsElement = document.getElementById("options");
optionsElement.innerHTML = "";

optionsArray.forEach(option => {
optionsElement.innerHTML += `
    <li>
        <input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}
    </li>
`;
});

updateNavigation();
}

function markAttempted(index, selectedAnswer) {
questions[index].attempted = true;
questions[index].selected = selectedAnswer;
updateNavigation();
}

function nextQuestion() {
if (currentQuestion < questions.length - 1) {
currentQuestion++;
loadQuestion(currentQuestion);
}
}

function prevQuestion() {
if (currentQuestion > 0) {
currentQuestion--;
loadQuestion(currentQuestion);
}
}

function changeLanguage() {
language = document.getElementById("languageSelect").value;
loadQuestion(currentQuestion);
}

function submitQuiz() {
let confirmation = confirm("Are you sure you want to submit the test?");
if (!confirmation) return;

clearInterval(timerInterval);

let attempted = 0, notAttempted = 0, score = 0;
const results = [];

questions.forEach(q => {
if (q.attempted) {
    attempted++;
    if (q.selected === q.answer || q.selected === q.answer_hi) {
        score++;
    }
} else {
    notAttempted++;
}
results.push({
    question: q.question_en,
    selected: q.selected || "Not Answered",
    correct: q.answer
});
});

localStorage.setItem("attempted", attempted);
localStorage.setItem("notAttempted", notAttempted);
localStorage.setItem("score", score);
localStorage.setItem("results", JSON.stringify(results));

let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
if (viewResult) {
window.location.href = "/Deshbord/category/test/submit-test.html";
}
}

function startTimer() {
const timerElement = document.getElementById("timer");

timerInterval = setInterval(() => {
if (timeLeft <= 0) {
    clearInterval(timerInterval);
    alert("Time's up! Submitting the quiz automatically.");
    submitQuiz();
} else {
    const hours = Math.floor(timeLeft / 3600);
    const minutes = Math.floor((timeLeft % 3600) / 60);
    const seconds = timeLeft % 60;

    timerElement.textContent = `Time Left: ${hours.toString().padStart(2, '0')}:${minutes
        .toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    timeLeft--;
}
}, 1000);
}

function updateNavigation() {
const navElement = document.getElementById("circleContainer");
navElement.innerHTML = "";

questions.forEach((q, index) => {
let color = "gray";
if (q.attempted) color = "green";
if (q.selected === "") color = "gray";
if (index === currentQuestion) color = "blue";

navElement.innerHTML += `
    <div class='circle' style='background-color: ${color};' onclick='loadQuestion(${index})'>
        ${index + 1}
    </div>`;
});
}

window.onload = function () {
loadQuestion(currentQuestion);
startTimer();
};


